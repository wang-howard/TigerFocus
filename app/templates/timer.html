{% extends "base.html" %}

{% block title %}Pomodoro Timer{% endblock %}

{% block body%}
<link href="{{style}}" rel="stylesheet"> 

<div id="screen">
  <button id="pomodoro"><a href="/timer">pomodoro</a> </button>
  <button id="pomodoro"><a href="/shortBreak">short break</a></button>
  <button id="pomodoro"><a href="/longBreak">long break</a></button>

  <div id="{{id}}">
    <div id="timeContainer">
      <div id="timer">
        <div id="time" >
          <span id="minutes">{{mins}}</span>
          <span id="colon">:</span>
          <span id="seconds">00</span>
        </div>
      </div>
  
      <div id="buttons">
        <button id="work">start</button>
        <button id="stop">reset</button>
      </div>
    </div>
  </div>

  <p align="center">
    <iframe id = "videoframe" width="700" height="400" src="{{source}}"></iframe>
  </p>

  <div id = "taskrectangle"><h2 id = "h2font">Tasks ToDo</h2>
  </div>
  <button id="stop"><a href="/hub">End Session </a> </button>
</div>
<script>
// get the selected assignments from the query parameter in the URL
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  const selectedAssignments = urlParams.get('selected_assignments');

// check if there are any selected assignments
  if (!selectedAssignments) {
  // display an error message and prevent the user from accessing the timer page
    const errorMessage = document.createElement('p');
    errorMessage.innerText = 'No assignments selected. Please go back and select at least one assignment to start the session.';
    document.body.appendChild(errorMessage);
    throw new Error('No assignments selected');
}

// continue with the timer page initialization
// ...


  </script>


<script src="{{script}}"></script>

{% endblock %}
