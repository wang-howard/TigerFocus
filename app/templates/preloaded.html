{% extends "base.html" %}

{% block title %}Preloaded Courses{% endblock %}

{% block style %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/preloaded.css') }}"/>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/hub.css') }}"/>

{% endblock %}

{% block body %}
<div id="welcome_wrapper">
  <table>
    <td width="88%" style="padding-top:50px; padding-left:30px">
      <div id="welcome">Welcome back, {{first_name|capitalize}}!</div>
    </td>
  </table>
</div>

<div id="preloaded-window">
  <div id="tabs">
    <div>
    
      <button style="color: #fef9ee;" onclick="window.location.href='{% if user_type == Student %}/hub{% else %}/admincourse{% endif %}';" id="pre_assignments_tab">
        my hub
      </button>
      
    </div>
    <div>
      <button style="color: #fef9ee;"  onclick="window.location.href='/preloaded';" id="pre_preloaded_tab">
       pre-loaded courses
      </button>
    </div>
  </div>


  <div id="assignments-header">
    <div id="current-assignments-title">Pre-Loaded Courses</div>
  </div>

  <hr>

  <table>
    <td>
      <div style="margin-left: 30px">
        <input class="searchbar" size="30" type="text" placeholder="  search for course...">
      </div>
    </td>
    <td align="right" style="padding-right: 30px">
      <form action = "\importcourses" method="post">
      <button style="width:200px" type="submit" class="small-button" onclick="importCourses()">
        import selected
        </button>
        <input type="hidden" id="selected_courses" name="selected_courses" value="">
      </form>
    </td>
  </table>

  <hr>

  <!-- INSERT AJAX + COURSES HERE -->
  <div style="overflow-y: scroll; height: 90%; max-height:525px; width:900px;">   
    <div>
      <table style="margin-left: 30px; margin-right: 30px; border-collapse:collapse;">

        <tr id="table_header">
          <th></th>
          <th align="left">Course Code</th>
          <th align="left">Course Name</th>
          <th align="left">Author</th>
          <th>Staff Certified</th>
          <th>Last Updated</th>
        </tr>

        {% for course in courses %}
        <div id="course_element_{{course['id']}}">
        <tr  style="padding-bottom: 5px; border-radius: 10px; background:#fef9ee;">
          <td width="5%" style="padding-left: 30px; padding-bottom: 30px; padding-right: 50px" align="center">
            <label class="checkbox_button">
              <input type="checkbox" class = "course_checkbox" value = "{{course['id']}}"></input>
              <div class="checkmark"></div>
            </label>
          </td>
          <td width="20%"align="left">
            <div class="class_chip" style="background-color: rgb(155, 160, 217)">
              {{course['course_code']}}
            </div>
          </td>

          <td width="35%" align="left">
            <div class="assignment_text">{{course['course_name']}}</div>
          </td>
          
          <td width="10%"align="center">
            <div class="assignment_text">
              {% if course['show_author']%}
              {{course['author']}}
              {% endif %}
            </div>
          </td>
         
          
          <td width="5%"align="center">
            {% if course['staff_cert']%}
            <i style="color:#ACCEED; font-size:30px" class="fa fa-certificate"></i>
            {%else%}
            <i style="color:#fef9ee; font-size:30px" class="fa fa-certificate"></i>
            {%endif%}
          </td>
         
          <td  width="20%"align="center">
           datetime
          </td>
        </tr>
        <tr><td height="2px"></td></tr>
      </div>
        {%endfor%}
      </div>

      </table>
    </div>
   
  </div>
</div>

<script src="{{url_for('static', filename='script/preloaded.js')}}"></script>

{% endblock %}

